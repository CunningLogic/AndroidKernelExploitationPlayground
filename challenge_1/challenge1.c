
#define DEV_NAME     "badcode"

#define IOCTL_TEST1              0x1234
#define IOCTL_TEST2              0x1235


static const struct file_operations my_fops = {
    .open = NULL,
    .unlocked_ioctl = my_ioctl,
};

static struct miscdevice my_device = {
    .minor = MISC_DYNAMIC_MINOR,
    .name = DEV_NAME,
    .fops = &my_fops,
};

static int __init mymodule_init( void )
{
    return misc_register( &my_device );
}

static void __exit mymodule_exit( void )
{
    misc_deregister( &my_device );
}

module_init(mymodule_init);
module_exit(mymodule_exit);

MODULE_LICENSE("GPL");
MODULE_AUTHOR( "giantpune" );
